@page "/"
@page "/Login"
@layout AccesoLayout
@inherits LayoutComponentBase
@rendermode @(new InteractiveServerRenderMode(prerender: false))

<HeadContent>
    <PageTitle>Home</PageTitle>
</HeadContent>

<PageTitle>Acceso al Sistema</PageTitle>
<div class="container-fluid bg-light min-vh-100">
    <div class="row justify-content-center align-items-center min-vh-100">
        <div class="col-md-4 col-sm-6 col-11">
            <div class="card border-0 shadow-lg">
                <div class="card-body px-4 py-5">
                    <div class="text-center mb-4">
                        <div class="logo-container mb-4">
                            <img src="/img/logotipo (1).png" alt="Logo de la empresa" class="img-fluid logo-img" />
                        </div>
                    </div>

                    <EditForm Model="@usuario" OnValidSubmit="IniciarSesion" FormName="login">
                        <DataAnnotationsValidator />

                        <div class="form-floating mb-3">
                            <InputText id="usuario" class="form-control" @bind-Value="usuario.Usuario" placeholder="Usuario" />
                            <label for="usuario">Usuario</label>
                            <ValidationMessage For="@(() => usuario.Usuario)" class="text-danger small" />
                        </div>

                        <div class="form-floating mb-4">
                            <InputText id="contraseña" type="password" class="form-control" @bind-Value="usuario.Contraseña" placeholder="Contraseña" />
                            <label for="contraseña">Contraseña</label>
                            <ValidationMessage For="@(() => usuario.Contraseña)" class="text-danger small" />
                        </div>

                        <div class="d-grid mb-3">
                            <button type="submit" class="btn btn-primary btn-lg">
                                Iniciar Sesión
                            </button>
                        </div>

                        <div class="text-center">
                            <a href="#" class="text-muted small">¿Olvidaste tu contraseña?</a>
                        </div>
                    </EditForm>

                    <div class="text-center mt-4">
                        <small class="text-muted">© 2024. Todos los derechos reservados.</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<BlazoredToasts Position="Blazored.Toast.Configuration.ToastPosition.BottomCenter"
                Timeout="5"
                IconType="Blazored.Toast.Configuration.IconType.FontAwesome"
                SuccessClass="success-toast-override"
                SuccessIcon="fa fa-thumbs-up"
                ErrorIcon="fa fa-bug"
                WarningIcon="fa fa-warning"
                InfoIcon="fa fa-info-circle"
                RemoveToastsOnNavigation="false">
</BlazoredToasts>

<LoadingModal @ref="loadingModal" />